# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

## üìã –û–±–∑–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

**–£–ü–†–û–©–ï–ù–ù–´–ô –ü–†–û–¶–ï–°–° (–±–µ–∑ –æ–¥–æ–±—Ä–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã–º –∞–¥–º–∏–Ω–æ–º):**

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ (`POST /api/users/api/register/`)
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É –∑–∞—è–≤–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (`POST /api/users/provider-forms/`) **–° –†–ï–ö–í–ò–ó–ò–¢–ê–ú–ò –ò –ü–†–ò–ù–Ø–¢–ò–ï–ú –û–§–ï–†–¢–´**
3. –ü—Ä–æ–≤–∞–π–¥–µ—Ä —Å–æ–∑–¥–∞–µ—Ç—Å—è **–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò** –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ (–µ—Å–ª–∏ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã)
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç —Ä–æ–ª—å `provider_admin` –∏ –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–µ

---

## üîë API Endpoints

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

**Endpoint:** `POST /api/users/provider-forms/`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: `Authorization: Bearer <token>`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω

**Request Body:**
```json
{
  "provider_name": "–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏",
  "provider_email": "email@example.com",
  "provider_phone": "+79991234567",
  "provider_address": "–ê–¥—Ä–µ—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏",
  "selected_categories": [1, 2, 3],  // ID –∫–∞—Ç–µ–≥–æ—Ä–∏–π —É—Å–ª—É–≥ —É—Ä–æ–≤–Ω—è 0
  
  // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –†–ï–ö–í–ò–ó–ò–¢–´:
  "tax_id": "1234567890",  // –ò–ù–ù / Tax ID
  "registration_number": "9876543210",  // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä
  "country": "RU",  // –ö–æ–¥ —Å—Ç—Ä–∞–Ω—ã (ISO 3166-1 alpha-2)
  "invoice_currency": 1,  // ID –≤–∞–ª—é—Ç—ã (Currency)
  
  // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û–ï –ü–†–ò–ù–Ø–¢–ò–ï –û–§–ï–†–¢–´:
  "offer_accepted": true,
  "offer_accepted_at": "2026-01-02T13:00:00Z",  // ISO 8601 —Ñ–æ—Ä–º–∞—Ç
  "offer_accepted_ip": "127.0.0.1",  // IP –∞–¥—Ä–µ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  "offer_accepted_user_agent": "Mozilla/5.0..."  // User Agent –±—Ä–∞—É–∑–µ—Ä–∞
}
```

**–í–∞–∂–Ω–æ:**
- –ë–µ–∑ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –∏ –ø—Ä–∏–Ω—è—Ç–∏—è –æ—Ñ–µ—Ä—Ç—ã –∑–∞—è–≤–∫–∞ **–ù–ï –ë–£–î–ï–¢ –ü–†–ò–ù–Ø–¢–ê** (–≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ)
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä —Å–æ–∑–¥–∞–µ—Ç—Å—è **–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò** –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ (–µ—Å–ª–∏ –≤—Å–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã)
- –ï—Å–ª–∏ `offer_accepted=true`, –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Å—Ä–∞–∑—É –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è (`activation_status='active'`, `is_active=True`)

**Response (201 Created):**
```json
{
  "id": 1,
  "provider_name": "–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏",
  "provider_email": "email@example.com",
  "provider_phone": "+79991234567",
  "provider_address": "–ê–¥—Ä–µ—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏",
  "status": "pending",  // –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ (–¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏)
  "tax_id": "1234567890",
  "registration_number": "9876543210",
  "country": "RU",
  "invoice_currency": 1,
  "offer_accepted": true,
  "offer_accepted_at": "2026-01-02T13:00:00Z",
  "created_at": "2026-01-02T13:00:00Z",
  "created_by": 1
}
```

**–û—à–∏–±–∫–∏:**
- `400 Bad Request` - –µ—Å–ª–∏ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (—Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∏–ª–∏ –æ—Ñ–µ—Ä—Ç–∞)
- `401 Unauthorized` - –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω

---

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∞–ª—é—Ç

**Endpoint:** `GET /api/billing/currencies/` (–µ—Å–ª–∏ –µ—Å—Ç—å —Ç–∞–∫–æ–π endpoint)

**–ò–ª–∏ —á–µ—Ä–µ–∑ Django Admin API / —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä**

**–ù—É–∂–Ω–æ –¥–ª—è:** –í—ã–±–æ—Ä–∞ –≤–∞–ª—é—Ç—ã –≤ —Ñ–æ—Ä–º–µ (`invoice_currency`)

---

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —É—Å–ª—É–≥ (—É—Ä–æ–≤–µ–Ω—å 0)

**Endpoint:** `GET /api/catalog/services/?level=0`

**–ù—É–∂–Ω–æ –¥–ª—è:** –í—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —É—Å–ª—É–≥ –≤ —Ñ–æ—Ä–º–µ (`selected_categories`)

---

### 4. –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —à–∞–≥–∞ 2 –º–∞—Å—Ç–µ—Ä–∞ (step2-hints)

**Endpoint:** `GET /api/v1/provider-registration/step2-hints/?country=DE&lang=de`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `country` (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω) ‚Äî –∫–æ–¥ —Å—Ç—Ä–∞–Ω—ã —Å —à–∞–≥–∞ 1 (ISO 3166-1 alpha-2).
- `lang` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî —è–∑—ã–∫: `de`, `en`, `ru`, `me`. –ò–Ω–∞—á–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Accept-Language`.

**–û—Ç–≤–µ—Ç (200 OK):**
```json
{
  "phonePlaceholder": "+49 30 12345678",
  "orgNameHint": "Beispiele f√ºr Rechtsformen: GmbH, AG, UG",
  "documentsHint": "Optional k√∂nnen Sie Lizenzen oder Zertifikate hochladen. Wir zeigen Verbrauchern bei Ihrer Einrichtung den Hinweis ‚ÄûDokumente vorhanden‚Äú und auf Wunsch die Dokumente selbst. Der Upload ist nicht erforderlich und hat keinen Einfluss auf die Registrierung.",
  "addressPlaceholder": "Adresse eingeben oder ausw√§hlen"
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ —à–∞–≥–µ 2:**
- `phonePlaceholder` ‚Äî –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –¥–ª—è –ø–æ–ª—è ¬´–¢–µ–ª–µ—Ñ–æ–Ω –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏¬ª.
- `orgNameHint` ‚Äî –ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ–¥ –ø–æ–ª–µ–º ¬´–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏¬ª.
- `documentsHint` ‚Äî –ø–æ—è—Å–Ω–µ–Ω–∏–µ –Ω–∞–¥/–ø–æ–¥ –±–ª–æ–∫–æ–º ¬´–î–æ–∫—É–º–µ–Ω—Ç—ã¬ª (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –æ—Ç–º–µ—Ç–∫–∞ ¬´–ï—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã¬ª —É –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π).
- `addressPlaceholder` ‚Äî –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –¥–ª—è –ø–æ–ª—è ¬´–ê–¥—Ä–µ—Å¬ª (–≤ —Ç.—á. –ø—Ä–∏ Google Places Autocomplete).

---

### 5. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –æ—Ñ–µ—Ä—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è)

**Endpoint:** `GET /api/providers/{provider_id}/offer/`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω (–ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏)
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: `Authorization: Bearer <token>`

**Response (200 OK):**
```json
{
  "offer": {
    "version": "1.0",
    "title": "Public Offer Title",
    "content": "Full offer text with {{commission_percent}}% commission...",
    "default_commission_percent": "5.00",
    "default_payment_deferral_days": 5,
    "default_invoice_period_days": 30
  },
  "personalized_content": "Full offer text with 5.00% commission...",  // –° –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
  "provider": {
    "id": 1,
    "name": "Provider Name"
  }
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í —É–ø—Ä–æ—â–µ–Ω–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ –æ—Ñ–µ—Ä—Ç–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –ø—Ä—è–º–æ –≤ —Ñ–æ—Ä–º–µ, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ—Ç endpoint –º–æ–∂–µ—Ç –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –Ω–∞ —ç—Ç–∞–ø–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.

---

### 6. –ü—Ä–∏–Ω—è—Ç–∏–µ –æ—Ñ–µ—Ä—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ –ø—Ä–∏–Ω—è—Ç–∞ –≤ —Ñ–æ—Ä–º–µ)

**Endpoint:** `POST /api/providers/{provider_id}/accept-offer/`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: `Authorization: Bearer <token>`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `provider_admin` —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

**Request Body:**
```json
{
  "ip_address": "127.0.0.1",
  "user_agent": "Mozilla/5.0..."
}
```

**Response (200 OK):**
```json
{
  "status": "success",
  "message": "Offer accepted successfully",
  "offer_acceptance": {
    "id": 1,
    "provider": 1,
    "offer": 1,
    "accepted_at": "2026-01-02T13:00:00Z",
    "is_active": true
  }
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í —É–ø—Ä–æ—â–µ–Ω–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ –æ—Ñ–µ—Ä—Ç–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –ø—Ä—è–º–æ –≤ —Ñ–æ—Ä–º–µ, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ—Ç endpoint –º–æ–∂–µ—Ç –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è.

---

### 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ VAT –Ω–æ–º–µ—Ä–∞ (–¥–ª—è –ï–° –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤)

**Endpoint:** `POST /api/providers/{provider_id}/verify-vat/`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: `Authorization: Bearer <token>`
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑ –ï–° (country –≤ —Å–ø–∏—Å–∫–µ –ï–°)

**Request Body:**
```json
{
  "vat_number": "DE123456789"
}
```

**Response (200 OK):**
```json
{
  "valid": true,
  "name": "Company Name",
  "address": "Company Address",
  "vat_number": "DE123456789"
}
```

**–û—à–∏–±–∫–∏:**
- `400 Bad Request` - –µ—Å–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–µ –∏–∑ –ï–°
- `400 Bad Request` - –µ—Å–ª–∏ VAT –Ω–æ–º–µ—Ä –Ω–µ–≤–∞–ª–∏–¥–µ–Ω

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–ª–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

```javascript
// 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const registerResponse = await fetch('/api/users/api/register/', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    email: 'owner@example.com',
    password: 'password123',
    first_name: 'John',
    last_name: 'Doe'
  })
});

const { access, refresh } = await registerResponse.json();

// 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —É—Å–ª—É–≥
const categoriesResponse = await fetch('/api/catalog/services/?level=0', {
  headers: { 'Authorization': `Bearer ${access}` }
});
const categories = await categoriesResponse.json();

// 3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∞–ª—é—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å endpoint)
// const currenciesResponse = await fetch('/api/billing/currencies/', {
//   headers: { 'Authorization': `Bearer ${access}` }
// });
// const currencies = await currenciesResponse.json();

// 4. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —Å —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º–∏ –∏ –ø—Ä–∏–Ω—è—Ç–∏–µ–º –æ—Ñ–µ—Ä—Ç—ã
const providerFormResponse = await fetch('/api/users/provider-forms/', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${access}`
  },
  body: JSON.stringify({
    provider_name: 'My Pet Care Service',
    provider_email: 'service@example.com',
    provider_phone: '+79991234567',
    provider_address: 'Moscow, Red Square, 1',
    selected_categories: [categories[0].id, categories[1].id],
    
    // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –†–ï–ö–í–ò–ó–ò–¢–´:
    tax_id: '1234567890',
    registration_number: '9876543210',
    country: 'RU',
    invoice_currency: 1,  // RUB
    
    // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û–ï –ü–†–ò–ù–Ø–¢–ò–ï –û–§–ï–†–¢–´:
    offer_accepted: true,
    offer_accepted_at: new Date().toISOString(),
    offer_accepted_ip: await getUserIP(),  // –ü–æ–ª—É—á–∏—Ç—å IP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    offer_accepted_user_agent: navigator.userAgent
  })
});

const providerForm = await providerFormResponse.json();

// 5. –ü—Ä–æ–≤–∞–π–¥–µ—Ä —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏–ª —Ä–æ–ª—å provider_admin
// –ü—Ä–æ–≤–∞–π–¥–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (activation_status='active')
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
   - `tax_id` - –ò–ù–ù / Tax ID (–º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞)
   - `registration_number` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä (–º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞)
   - `country` - –ö–æ–¥ —Å—Ç—Ä–∞–Ω—ã (ISO 3166-1 alpha-2)
   - `invoice_currency` - ID –≤–∞–ª—é—Ç—ã
   - `offer_accepted` - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `true`
   - `offer_accepted_at` - –≤—Ä–µ–º—è –ø—Ä–∏–Ω—è—Ç–∏—è (ISO 8601)
   - `offer_accepted_ip` - IP –∞–¥—Ä–µ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - `offer_accepted_user_agent` - User Agent –±—Ä–∞—É–∑–µ—Ä–∞

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:**
   - –ü—Ä–æ–≤–∞–π–¥–µ—Ä —Å–æ–∑–¥–∞–µ—Ç—Å—è **–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò** –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ (—á–µ—Ä–µ–∑ —Å–∏–≥–Ω–∞–ª `post_save`)
   - –ù–µ –Ω—É–∂–Ω–æ –∂–¥–∞—Ç—å –æ–¥–æ–±—Ä–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã–º –∞–¥–º–∏–Ω–æ–º
   - –ï—Å–ª–∏ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã, –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Å—Ä–∞–∑—É –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è

3. **–†–µ–∫–≤–∏–∑–∏—Ç—ã:**
   - –†–µ–∫–≤–∏–∑–∏—Ç—ã –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –∏–∑ `ProviderForm` –≤ `Provider` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞: —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –ø—Ä–æ–±–µ–ª—ã –∏ –¥–µ—Ñ–∏—Å—ã

4. **–û—Ñ–µ—Ä—Ç–∞:**
   - –û—Ñ–µ—Ä—Ç–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –ø—Ä—è–º–æ –≤ —Ñ–æ—Ä–º–µ (`offer_accepted=true`)
   - –°–æ–∑–¥–∞–µ—Ç—Å—è `DocumentAcceptance` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è legal)
   - –ü—Ä–æ–≤–∞–π–¥–µ—Ä –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —Å—Ä–∞–∑—É, –µ—Å–ª–∏ –æ—Ñ–µ—Ä—Ç–∞ –ø—Ä–∏–Ω—è—Ç–∞

5. **–†–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç —Ä–æ–ª—å `provider_admin`
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–µ (`is_staff=True`)
   - –ë–∏–ª–ª–∏–Ω–≥-–º–µ–Ω–µ–¥–∂–µ—Ä –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–ø–µ—Ä–≤—ã–π –¥–æ—Å—Ç—É–ø–Ω—ã–π)

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–æ–∑–¥–∞–Ω –ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä:

```javascript
// –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const providersResponse = await fetch('/api/providers/api/providers/', {
  headers: { 'Authorization': `Bearer ${access}` }
});
const providers = await providersResponse.json();

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
if (providers.length > 0) {
  const provider = providers[0];
  console.log('Provider created:', provider.id);
  console.log('Activation status:', provider.activation_status);  // 'active'
  console.log('Is active:', provider.is_active);  // true
}
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API:** `/api/swagger/` –∏–ª–∏ `/api/redoc/`
- **–ú–æ–¥–µ–ª–∏:** –°–º. `PetsCare/users/models.py` (ProviderForm)
- **–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã:** –°–º. `PetsCare/users/serializers.py` (ProviderFormSerializer)
- **–°–∏–≥–Ω–∞–ª—ã:** –°–º. `PetsCare/users/signals.py` (create_provider_on_approval)

---

## üêõ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```javascript
try {
  const response = await fetch('/api/users/provider-forms/', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${access}`
    },
    body: JSON.stringify(formData)
  });
  
  if (!response.ok) {
    const error = await response.json();
    
    // –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
    if (response.status === 400) {
      console.error('Validation errors:', error);
      // –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
      Object.keys(error).forEach(field => {
        console.error(`${field}: ${error[field]}`);
      });
    }
    
    // –û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
    if (response.status === 401) {
      console.error('Unauthorized - please login');
      // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞
    }
  } else {
    const providerForm = await response.json();
    console.log('Provider form created:', providerForm);
    // –ü—Ä–æ–≤–∞–π–¥–µ—Ä —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
  }
} catch (error) {
  console.error('Network error:', error);
}
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

- [ ] –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —Å –ø–æ–ª—è–º–∏:
  - [ ] –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
  - [ ] Email –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
  - [ ] –¢–µ–ª–µ—Ñ–æ–Ω –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
  - [ ] –ê–¥—Ä–µ—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
  - [ ] –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π —É—Å–ª—É–≥ (—É—Ä–æ–≤–µ–Ω—å 0)
  - [ ] **–ò–ù–ù / Tax ID** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
  - [ ] **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
  - [ ] **–°—Ç—Ä–∞–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
  - [ ] **–í–∞–ª—é—Ç–∞ —Å—á–µ—Ç–∞** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
  - [ ] **–ß–µ–∫–±–æ–∫—Å –ø—Ä–∏–Ω—è—Ç–∏—è –æ—Ñ–µ—Ä—Ç—ã** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ User Agent –±—Ä–∞—É–∑–µ—Ä–∞
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –æ—Ñ–µ—Ä—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏
- [ ] –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-02

