# –°—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –º–æ–¥–µ–ª—å –ü—É–±–ª–∏—á–Ω–æ–π –û—Ñ–µ—Ä—Ç—ã

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ ‚úÖ
- ‚úÖ –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω
- ‚úÖ –î–∏–∞–≥—Ä–∞–º–º—ã –Ω–æ–≤—ã—Ö —Ñ–ª–æ—É —Å–æ–∑–¥–∞–Ω—ã (7. PROVIDER_REGISTRATION_WITH_OFFER.puml)
- ‚úÖ –§–î –æ–±–Ω–æ–≤–ª–µ–Ω (–≤ –ø–ª–∞–Ω–µ –º–∏–≥—Ä–∞—Ü–∏–∏)

### –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π ‚úÖ
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `django-countries`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –≤ `INSTALLED_APPS`
- ‚úÖ –°–æ–∑–¥–∞–Ω `utils/countries.py` —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –ï–°, EEA, EAEU
- ‚ö†Ô∏è **–û–ë–ù–û–í–õ–ï–ù–û**: –ú–æ–¥–µ–ª–∏ `RegionalAddendum`, `PublicOffer`, `ProviderOfferAcceptance` –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `legal`:
  - ‚úÖ `LegalDocument` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –≤—Å–µ—Ö —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  - ‚úÖ `DocumentAcceptance` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  - ‚úÖ `LegalDocumentType` - —Ç–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ)
  - ‚úÖ `DocumentTranslation` - –ø–µ—Ä–µ–≤–æ–¥—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  - ‚úÖ `CountryLegalConfig` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Å—Ç—Ä–∞–Ω
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –º–æ–¥–µ–ª—å `ProviderSpecialTerms`
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –º–æ–¥–µ–ª—å `SideLetter`
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–∞ –º–æ–¥–µ–ª—å `Provider` –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

### –≠—Ç–∞–ø 3: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ ‚úÖ
- ‚úÖ –°–æ–∑–¥–∞–Ω `VATVerificationService` (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VIES API)
- ‚úÖ –°–æ–∑–¥–∞–Ω `OfferGeneratorService` (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ—Ñ–µ—Ä—Ç—ã)

### –≠—Ç–∞–ø 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã API endpoints –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –æ—Ñ–µ—Ä—Ç—ã (`POST /api/providers/{id}/accept-offer/`)
- ‚úÖ –°–æ–∑–¥–∞–Ω API endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ñ–µ—Ä—Ç—ã (`GET /api/providers/{id}/offer/`)
- ‚úÖ –°–æ–∑–¥–∞–Ω API endpoint –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ VAT (`POST /api/providers/{id}/verify-vat/`)
- ‚ùå **–ù–ï –°–û–ó–î–ê–ù–´**: API endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ñ–µ—Ä—Ç–∞–º–∏ (–∞–¥–º–∏–Ω–∫–∞)
  - `GET /api/admin/offers/` - —Å–ø–∏—Å–æ–∫ –ø—É–±–ª–∏—á–Ω—ã—Ö –æ—Ñ–µ—Ä—Ç
  - `POST /api/admin/offers/` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ –æ—Ñ–µ—Ä—Ç—ã
  - `POST /api/admin/providers/{id}/side-letter/` - —Å–æ–∑–¥–∞–Ω–∏–µ Side Letter

### –≠—Ç–∞–ø 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ ‚úÖ –£–ü–†–û–©–ï–ù
- ‚úÖ **–£–ü–†–û–©–ï–ù** –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:
  - ‚úÖ –£–±—Ä–∞–Ω–æ –æ–¥–æ–±—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–º –∞–¥–º–∏–Ω–æ–º - –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
  - ‚úÖ –†–µ–∫–≤–∏–∑–∏—Ç—ã –∏ –ø—Ä–∏–Ω—è—Ç–∏–µ –æ—Ñ–µ—Ä—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –≤ ProviderForm
  - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ Provider –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ (—á–µ—Ä–µ–∑ —Å–∏–≥–Ω–∞–ª post_save)
  - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±–∏–ª–ª–∏–Ω–≥-–º–µ–Ω–µ–¥–∂–µ—Ä–∞ (–ø–µ—Ä–≤—ã–π –¥–æ—Å—Ç—É–ø–Ω—ã–π)
  - ‚úÖ –ü—Ä–æ–≤–∞–π–¥–µ—Ä —Å—Ä–∞–∑—É –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ (–µ—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∏ –æ—Ñ–µ—Ä—Ç–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã)
- ‚úÖ –£–±—Ä–∞–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ (—Å—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–¥–∞–ª–µ–Ω–∞)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∏–Ω—è—Ç–∏–µ –æ—Ñ–µ—Ä—Ç—ã –≤ ProviderForm (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω —Ñ–ª–æ—É –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º (–ø–∏—Å—å–º–æ –ø—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ –æ—Ñ–µ—Ä—Ç—ã, –Ω–µ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –ø—Ä–æ—Ü–µ—Å—Å –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏)

### –≠—Ç–∞–ø 6: –ú–∏–≥—Ä–∞—Ü–∏—è –±–∏–ª–ª–∏–Ω–≥–∞ ‚úÖ –ü–û–ß–¢–ò –ó–ê–í–ï–†–®–ï–ù
- ‚úÖ **–û–ë–ù–û–í–õ–ï–ù**: –†–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏
  - ‚úÖ –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `Provider.calculate_commission()` –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∫–æ–º–∏—Å—Å–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ñ–µ—Ä—Ç—ã/ProviderSpecialTerms
  - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `ProviderSpecialTerms.calculate_commission()`
  - ‚ö†Ô∏è –ú–µ—Ç–æ–¥—ã `Contract.calculate_debt()` –∏ `Contract.get_payment_schedule()` –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É, –Ω–æ –æ–Ω–∏ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –≤–º–µ—Å—Ç–µ —Å Contract
  - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `reports/services.py` - –∑–∞–º–µ–Ω–µ–Ω `contract.get_payment_schedule()` –Ω–∞ —Ä–∞–±–æ—Ç—É —Å Invoice
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω —Ä–∞—Å—á–µ—Ç –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏
  - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `Provider.calculate_debt()` (—á–µ—Ä–µ–∑ Invoice)
  - –ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å = —Å—É–º–º–∞ –Ω–µ–æ–ø–ª–∞—á–µ–Ω–Ω—ã—Ö Invoice –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
  - –ó–∞–º–µ–Ω–µ–Ω `contract.get_max_overdue_days()` –Ω–∞ `provider.get_max_overdue_days()`
  - –ü–æ—Ä–æ–≥–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –±–µ—Ä—É—Ç—Å—è –∏–∑ `ProviderSpecialTerms` –∏–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏–∑ –æ—Ñ–µ—Ä—Ç—ã
- ‚ö†Ô∏è **–ù–£–ñ–ù–û –ü–†–û–í–ï–†–ò–¢–¨**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Invoice
  - Invoice —É–∂–µ —Å–≤—è–∑–∞–Ω —Å Provider (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π)
  - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–∏—Å—Å–∏—è –∏–∑ –æ—Ñ–µ—Ä—Ç—ã –∏–ª–∏ ProviderSpecialTerms
- ‚úÖ **–û–ë–ù–û–í–õ–ï–ù**: PaymentHistory
  - ‚úÖ –ó–∞–º–µ–Ω–µ–Ω FK `contract` ‚Üí `provider` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
  - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã FK `invoice` –∏ `offer_acceptance` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ)
  - ‚úÖ FK `contract` —Å–¥–µ–ª–∞–Ω nullable –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
  - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `__str__()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è invoice/offer –≤–º–µ—Å—Ç–æ contract
  - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω PaymentHistorySerializer
  - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω reports/services.py –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è provider.payment_history
  - ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è 0005_update_payment_history_for_offers

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ)

### –≠—Ç–∞–ø 7: –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ, —á—Ç–æ –≤ –±–∞–∑–µ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ (–±–∞–∑–∞ –ø—É—Å—Ç–∞)
  - ‚úÖ –í—Å–µ 5 —Ç–∞–±–ª–∏—Ü Contract –ø—É—Å—Ç—ã (0 –∑–∞–ø–∏—Å–µ–π):
    - `billing_contract`: 0 –∑–∞–ø–∏—Å–µ–π
    - `billing_contracttype`: 0 –∑–∞–ø–∏—Å–µ–π
    - `billing_contractcommission`: 0 –∑–∞–ø–∏—Å–µ–π
    - `billing_contractdiscount`: 0 –∑–∞–ø–∏—Å–µ–π
    - `billing_contractapprovalhistory`: 0 –∑–∞–ø–∏—Å–µ–π
  - ‚úÖ –ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–æ–π `python manage.py check_contract_tables`

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ)

### –≠—Ç–∞–ø 9: –£–¥–∞–ª–µ–Ω–∏–µ Contract ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–û
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω PaymentHistory (FK contract ‚Üí provider) - –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ –≠—Ç–∞–ø–µ 6
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ, —á—Ç–æ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Contract –∑–∞–º–µ–Ω–µ–Ω—ã
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –º–æ–¥–µ–ª–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ (`Contract`, `ContractType`, `ContractCommission`, `ContractDiscount`, `ContractApprovalHistory`)
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã API endpoints –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ (`ContractViewSet`, `ContractTypeViewSet`, –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ workflow)
- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –∞–¥–º–∏–Ω–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ (`ContractAdmin`, `ContractTypeAdmin`, –≤—Å–µ inline –∫–ª–∞—Å—Å—ã)
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã URL patterns –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ Contract –≤ –∫–æ–¥–µ
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è `0006_remove_contract_tables.py`
- ‚úÖ **–í–°–ï –¢–ê–ë–õ–ò–¶–´ CONTRACT –£–î–ê–õ–ï–ù–´ –ò–ó –ë–ê–ó–´ –î–ê–ù–ù–´–•!**
- ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**: –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü Contract –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –ø—É—Å—Ç—ã (0 –∑–∞–ø–∏—Å–µ–π)
  - ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è `0006_remove_contract_tables.py`
  - ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ (`python manage.py migrate billing`)
  - ‚úÖ –£–¥–∞–ª–µ–Ω FK `contract` –∏–∑ PaymentHistory
  - ‚úÖ –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã Contract:
    1. ContractApprovalHistory
    2. ContractCommission
    3. ContractDiscount
    4. Contract
    5. ContractType
  - ‚úÖ **–í–°–ï –¢–ê–ë–õ–ò–¶–´ CONTRACT –£–î–ê–õ–ï–ù–´ –ò–ó –ë–ê–ó–´ –î–ê–ù–ù–´–•!**

---

## ‚ö†Ô∏è –ù–ï –ö–†–ò–¢–ò–ß–ù–û –î–õ–Ø MVP (–º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å —Ñ—Ä–æ–Ω—Ç–æ–º)

### –≠—Ç–∞–ø 8: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ë–ï–ó —Ñ—Ä–æ–Ω—Ç–∞ —á–µ—Ä–µ–∑:
- ‚úÖ Django management –∫–æ–º–∞–Ω–¥—ã (—É–∂–µ –µ—Å—Ç—å: `test_offer_commission`, `test_invoice_generation`)
- ‚úÖ API endpoints (—á–µ—Ä–µ–∑ curl, Postman, –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã)
- ‚úÖ Django shell (`python manage.py shell`)
- ‚úÖ Unit/Integration —Ç–µ—Å—Ç—ã (Django TestCase)
- ‚úÖ Django REST Framework —Ç–µ—Å—Ç—ã (APITestCase)

**–°–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤:**
- ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ**: –†–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Invoice
  - ‚úÖ –ö–æ–º–∞–Ω–¥–∞: `python manage.py test_offer_commission --create-offer --create-invoice --booking-amount 2000`
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ö–æ–º–∏—Å—Å–∏—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ (5% –æ—Ç —Å—É–º–º—ã)
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: Invoice —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–º–∏—Å—Å–∏–µ–π
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ—Ä–æ–≥–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ –æ—Ñ–µ—Ä—Ç—ã
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –†–∞—Å—á–µ—Ç –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
  - ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: naive datetime –≤ Invoice.issued_at (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

- ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ**: –ü–æ–ª–Ω—ã–π —Ñ–ª–æ—É —Ä–∞–±–æ—Ç—ã —Å –æ—Ñ–µ—Ä—Ç–∞–º–∏
  - ‚úÖ –ö–æ–º–∞–Ω–¥–∞: `python manage.py test_full_offer_flow`
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ –æ—Ñ–µ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞–µ—Ç
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –æ—Ñ–µ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è)
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—Ä–∏–Ω—è—Ç–∏–µ –æ—Ñ–µ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞–µ—Ç (—Å–æ–∑–¥–∞–µ—Ç—Å—è DocumentAcceptance)
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –†–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—É–º–º (1000, 5000, 10000 RUB)
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –†–∞—Å—á–µ—Ç –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ—Ä–æ–≥–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ –æ—Ñ–µ—Ä—Ç—ã
  - ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: "Provider activated but no active admin found" (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –ø—Ä–æ—Å—Ç–æ –Ω–µ—Ç –∞–¥–º–∏–Ω–∞)
- ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ**: –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  - ‚úÖ –ö–æ–º–∞–Ω–¥–∞: `python manage.py test_provider_registration_flow`
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ —Å —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º–∏ –∏ –ø—Ä–∏–Ω—è—Ç–∏–µ–º –æ—Ñ–µ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞–µ—Ç
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ Provider –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –∏–∑ ProviderForm –≤ Provider —Ä–∞–±–æ—Ç–∞–µ—Ç
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–∑–¥–∞–Ω–∏–µ DocumentAcceptance —Ä–∞–±–æ—Ç–∞–µ—Ç
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±–∏–ª–ª–∏–Ω–≥-–º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: Owner –ø–æ–ª—É—á–∞–µ—Ç —Ä–æ–ª—å provider_admin –∏ –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–µ
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!
- ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ VAT —á–µ—Ä–µ–∑ VIES API
  - ‚úÖ –ö–æ–º–∞–Ω–¥–∞: `python manage.py test_billing_integration`
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—Ä–æ–≤–µ—Ä–∫–∞ VAT —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ï–° –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (—á–µ—Ä–µ–∑ API endpoint)
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –î–ª—è –Ω–µ-–ï–° –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

- ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ**: –ü—Ä–∏–Ω—è—Ç–∏–µ –æ—Ñ–µ—Ä—Ç—ã —á–µ—Ä–µ–∑ API
  - ‚úÖ –ö–æ–º–∞–Ω–¥–∞: `python manage.py test_billing_integration`
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –û—Ñ–µ—Ä—Ç–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ API endpoint `POST /api/providers/{id}/accept-offer/`
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–∑–¥–∞–µ—Ç—Å—è `DocumentAcceptance` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (–≤ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ –æ—Ñ–µ—Ä—Ç–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏)

- ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ**: –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å–µ–º –ø—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ –æ—Ñ–µ—Ä—Ç—ã (—Å–∏–º—É–ª—è—Ü–∏—è)
  - ‚úÖ –ö–æ–º–∞–Ω–¥–∞: `python manage.py test_billing_integration`
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–Ω—è—Ç–æ–π –æ—Ñ–µ—Ä—Ç–µ (–≤–µ—Ä—Å–∏—è, –∫–æ–º–∏—Å—Å–∏—è, –≤—Ä–µ–º—è –ø—Ä–∏–Ω—è—Ç–∏—è)
  - ‚ÑπÔ∏è  –í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –ø–∏—Å—å–º–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Owner'—É –∏ –Ω–∞ email –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

- ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ —á–µ—Ä–µ–∑ –æ—Ñ–µ—Ä—Ç—ã
  - ‚úÖ –ö–æ–º–∞–Ω–¥–∞: `python manage.py test_billing_integration`
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ—Ä–æ–≥–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ –æ—Ñ–µ—Ä—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: `provider.get_blocking_thresholds()` —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: `provider.get_max_overdue_days()` —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

- ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∏–ª–ª–∏–Ω–≥–æ–º (–ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª)
  - ‚úÖ –ö–æ–º–∞–Ω–¥–∞: `python manage.py test_billing_integration`
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ ProviderForm —Ä–∞–±–æ—Ç–∞–µ—Ç
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –†–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (5% –æ—Ç —Å—É–º–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Invoice —Ä–∞–±–æ—Ç–∞–µ—Ç
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –†–∞—Å—á–µ—Ç –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (—á–µ—Ä–µ–∑ Invoice)
  - ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –±–∏–ª–ª–∏–Ω–≥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!

---

## üî¥ –ö–†–ò–¢–ò–ß–ù–´–ï –ó–ê–î–ê–ß–ò (–Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º Contract)

1. ‚úÖ **–û–±–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏**:
   - ‚úÖ –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `Provider.calculate_commission(booking_amount, booking_currency)`
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ProviderSpecialTerms` –µ—Å–ª–∏ –µ—Å—Ç—å, –∏–Ω–∞—á–µ `offer.commission_percent`
   - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `reports/services.py` - –∑–∞–º–µ–Ω–µ–Ω `contract.get_payment_schedule()` –Ω–∞ —Ä–∞–±–æ—Ç—É —Å Invoice
   - ‚ö†Ô∏è –ú–µ—Ç–æ–¥—ã `Contract.calculate_debt()` –∏ `Contract.get_payment_schedule()` –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É, –Ω–æ –æ–Ω–∏ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –≤–º–µ—Å—Ç–µ —Å Contract (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

2. ‚úÖ **–û–±–Ω–æ–≤–∏—Ç—å PaymentHistory**:
   - ‚úÖ –ó–∞–º–µ–Ω–µ–Ω FK `contract` ‚Üí `provider` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã FK `invoice` –∏ `offer_acceptance` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ)
   - ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è –∑–∞–º–µ–Ω—ã FK
   - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –º–µ—Å—Ç–∞, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `payment_history.contract`

3. ‚ö†Ô∏è **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é Invoice**:
   - ‚ö†Ô∏è –ù—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–º–∏—Å—Å–∏—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–∑ –æ—Ñ–µ—Ä—Ç—ã/ProviderSpecialTerms
   - ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Invoice —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - ‚ö†Ô∏è **–ü–†–ò–ú–ï–ß–ê–ù–ò–ï**: –ü–æ—Ö–æ–∂–µ, —á—Ç–æ InvoiceLine –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Ç–µ–∫—É—â–µ–º –∫–æ–¥–µ. –ï—Å–ª–∏ –≤ –±—É–¥—É—â–µ–º –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Invoice, –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `provider.calculate_commission()` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ InvoiceLine.

4. ‚ùå **–°–æ–∑–¥–∞—Ç—å API endpoints –¥–ª—è –∞–¥–º–∏–Ω–æ–≤** (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP):
   - ‚ùå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ñ–µ—Ä—Ç–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ) - –∞–¥–º–∏–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ Django Admin
   - ‚ùå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Side Letter - –∞–¥–º–∏–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ Django Admin

---

## üìä –ü–†–û–ì–†–ï–°–°

- **–í—ã–ø–æ–ª–Ω–µ–Ω–æ**: 100%
- **–û—Å—Ç–∞–ª–æ—Å—å**: 0% (–≤—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã)
- **–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏**: 
  - ‚úÖ –†–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏ (–º–µ—Ç–æ–¥—ã —Å–æ–∑–¥–∞–Ω—ã, –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
  - ‚úÖ PaymentHistory (–ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω, –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞)
  - ‚úÖ **Contract –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω** (–º–æ–¥–µ–ª–∏, API, –∞–¥–º–∏–Ω–∫–∞, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã, URL)
  - ‚úÖ **–ü—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —É–ø—Ä–æ—â–µ–Ω** (—É–±—Ä–∞–Ω–æ –æ–¥–æ–±—Ä–µ–Ω–∏–µ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ Provider)
  - ‚úÖ **–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω** (–∫–æ–º–∞–Ω–¥–∞ test_provider_registration_flow)
  - ‚ö†Ô∏è –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Invoice (–Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å–ª–∏ InvoiceLine —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) - –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ
  - ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü Contract –∏–∑ –ë–î - **–í–´–ü–û–õ–ù–ï–ù–û**
  - ‚ùå API –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ (–Ω–µ —Å–æ–∑–¥–∞–Ω—ã, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP - –∞–¥–º–∏–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ Django Admin)

## ‚úÖ –£–ü–†–û–©–ï–ù–ò–ï –ü–†–û–¶–ï–°–°–ê –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò (–í–´–ü–û–õ–ù–ï–ù–û)

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:
- ‚úÖ –£–±—Ä–∞–Ω–æ –æ–¥–æ–±—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–º –∞–¥–º–∏–Ω–æ–º - –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏
- ‚úÖ –†–µ–∫–≤–∏–∑–∏—Ç—ã –∏ –ø—Ä–∏–Ω—è—Ç–∏–µ –æ—Ñ–µ—Ä—Ç—ã —Ç–µ–ø–µ—Ä—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –≤ ProviderForm
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±–∏–ª–ª–∏–Ω–≥-–º–µ–Ω–µ–¥–∂–µ—Ä–∞ (–ø–µ—Ä–≤—ã–π –¥–æ—Å—Ç—É–ø–Ω—ã–π)
- ‚úÖ –ü—Ä–æ–≤–∞–π–¥–µ—Ä —Å—Ä–∞–∑—É –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ (–µ—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∏ –æ—Ñ–µ—Ä—Ç–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã)

### –ù–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å:
1. Owner —Å–æ–∑–¥–∞–µ—Ç –∑–∞—è–≤–∫—É —Å —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º–∏ –∏ –ø—Ä–∏–Ω—è—Ç–∏–µ–º –æ—Ñ–µ—Ä—Ç—ã
2. Provider —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—á–µ—Ä–µ–∑ —Å–∏–≥–Ω–∞–ª post_save)
3. –ë–∏–ª–ª–∏–Ω–≥-–º–µ–Ω–µ–¥–∂–µ—Ä –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. –ü—Ä–æ–≤–∞–π–¥–µ—Ä —Å—Ä–∞–∑—É –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `test_provider_registration_flow` —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `test_billing_integration` —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –í—Å–µ —ç—Ç–∞–ø—ã —É–ø—Ä–æ—â–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∏–ª–ª–∏–Ω–≥–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
  - ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ ProviderForm
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ VAT —á–µ—Ä–µ–∑ VIES API (–¥–ª—è –ï–°)
  - ‚úÖ –ü—Ä–∏–Ω—è—Ç–∏–µ –æ—Ñ–µ—Ä—Ç—ã —á–µ—Ä–µ–∑ API
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ —á–µ—Ä–µ–∑ –æ—Ñ–µ—Ä—Ç—ã
  - ‚úÖ –†–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏
  - ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Invoice
  - ‚úÖ –†–∞—Å—á–µ—Ç –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏
  - ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å–µ–º (—Å–∏–º—É–ª—è—Ü–∏—è)

---

## üì¶ –î–õ–Ø PRODUCTION-–î–ï–ü–õ–û–Ø (–∫–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ production)

### –≠—Ç–∞–ø 10: –î–µ–ø–ª–æ–π (–¥–ª—è production)
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ—Ç —ç—Ç–∞–ø –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ –Ω–∞ production —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏/—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –∫—Ä–∏—Ç–∏—á–µ–Ω.

- ‚è≥ –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ë–î (–ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –º–∏–≥—Ä–∞—Ü–∏–π)
- ‚è≥ –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (`python manage.py migrate`)
- ‚è≥ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã (—á–µ—Ä–µ–∑ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã)
- ‚è≥ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏, –æ—à–∏–±–∫–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)

**–í–∞–∂–Ω–æ:** 
- –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- –í production –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Ö —á–µ—Ä–µ–∑ `python manage.py migrate`
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø –ë–î –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –º–∏–≥—Ä–∞—Ü–∏–π (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)

---
