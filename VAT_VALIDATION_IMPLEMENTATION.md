# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

## –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º
- –ü—Ä–æ–≤–µ—Ä–∫–∞ VAT ID —á–µ—Ä–µ–∑ VIES API –¥–ª—è —Å—Ç—Ä–∞–Ω –ï–°
- Fallback –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
- –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∞–¥–º–∏–Ω–∫–µ
- –†—É—á–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏

## –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `PetsCare/providers/validation_rules.py`
–ü—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º:
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ò–ù–ù –¥–ª—è –†–æ—Å—Å–∏–∏ (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã)
- –í–∞–ª–∏–¥–∞—Ü–∏—è VAT ID –¥–ª—è —Å—Ç—Ä–∞–Ω –ï–°
- –í–∞–ª–∏–¥–∞—Ü–∏—è IBAN (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã MOD-97-10)
- –í–∞–ª–∏–¥–∞—Ü–∏—è KPP –¥–ª—è –†–æ—Å—Å–∏–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ñ–î–†–ü–û–£/–ò–ù–ù –¥–ª—è –£–∫—Ä–∞–∏–Ω—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è PIB –¥–ª—è –ß–µ—Ä–Ω–æ–≥–æ—Ä–∏–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è SWIFT/BIC

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å—Ç—Ä–∞–Ω—ã:**
- DE (–ì–µ—Ä–º–∞–Ω–∏—è)
- RU (–†–æ—Å—Å–∏—è)
- UA (–£–∫—Ä–∞–∏–Ω–∞)
- ME (–ß–µ—Ä–Ω–æ–≥–æ—Ä–∏—è)

### 2. `PetsCare/providers/vat_validation_service.py`
–°–µ—Ä–≤–∏—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ VAT ID —á–µ—Ä–µ–∑ VIES API:
- –§—É–Ω–∫—Ü–∏—è `validate_vat_id_vies()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ VIES API
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (24 —á–∞—Å–∞ –¥–ª—è –≤–∞–ª–∏–¥–Ω—ã—Ö, 1 —á–∞—Å –¥–ª—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (—Ç–∞–π–º–∞—É—Ç—ã, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞)
- ‚úÖ **API –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∫–ª—é—á–∞!**

## –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏

### `PetsCare/providers/models.py` - –º–æ–¥–µ–ª—å Provider
–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è:
- `vat_verification_status` - —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ (pending, valid, invalid, failed)
- `vat_verification_result` - JSON —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏, –∞–¥—Ä–µ—Å)
- `vat_verification_date` - –¥–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
- `vat_verification_manual_override` - —á–µ–∫–±–æ–∫—Å —Ä—É—á–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- `vat_verification_manual_comment` - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø—Ä–∏ —Ä—É—á–Ω–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏
- `vat_verification_manual_by` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–≤—à–∏–π –≤—Ä—É—á–Ω—É—é
- `vat_verification_manual_at` - –¥–∞—Ç–∞ —Ä—É—á–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥:
- `check_vat_id_now(user=None)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ VAT ID —á–µ—Ä–µ–∑ VIES API

### `PetsCare/users/models.py` - –º–æ–¥–µ–ª—å ProviderForm
–î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ –∂–µ –ø–æ–ª—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.

## –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã

### `PetsCare/users/serializers.py` - ProviderRegistrationWizardSerializer
–î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
- `validate_tax_id()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è Tax ID –ø–æ —Ñ–æ—Ä–º–∞—Ç—É –¥–ª—è —Å—Ç—Ä–∞–Ω—ã
- `validate_vat_number()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ VIES API
- `validate_iban()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ IBAN
- `validate_kpp()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è KPP –¥–ª—è –†–æ—Å—Å–∏–∏
- `validate_registration_number()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è Registration Number

**–õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ VAT ID:**
- –ï—Å–ª–∏ VAT ID –≤–∞–ª–∏–¥–Ω—ã–π ‚Üí —Å—Ç–∞—Ç—É—Å `valid`, –ø—Ä–æ–≤–∞–π–¥–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
- –ï—Å–ª–∏ VAT ID –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π ‚Üí —Å—Ç–∞—Ç—É—Å `invalid`, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
- –ï—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí —Å—Ç–∞—Ç—É—Å `failed`, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∞ —Å fallback

## –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ API views

### `PetsCare/users/api_views.py` - ProviderRegistrationWizardAPIView
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏ VAT ID –≤ `ProviderForm`
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ VIES API

## –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã

### `PetsCare/users/signals.py` - create_provider_on_approval
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏ VAT ID –∏–∑ `ProviderForm` –≤ `Provider`
- –õ–æ–≥–∏–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —Å —É—á–µ—Ç–æ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ VAT ID:
  - –ü—Ä–æ–≤–∞–π–¥–µ—Ä –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ VAT ID –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω (`valid` –∏–ª–∏ `manual_override`)
  - –î–ª—è –Ω–µ–ø–ª–∞—Ç–µ–ª—å—â–∏–∫–æ–≤ –ù–î–° –∏–ª–∏ –Ω–µ-–ï–° —Å—Ç—Ä–∞–Ω –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

## –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∞–¥–º–∏–Ω–∫–∞

### `PetsCare/providers/admin.py` - ProviderAdmin
–î–æ–±–∞–≤–ª–µ–Ω–æ:
- Action `check_vat_id_selected` - –º–∞—Å—Å–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ VAT ID
- –ú–µ—Ç–æ–¥ `check_vat_id_view` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (AJAX –∏ –æ–±—ã—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å)
- –ú–µ—Ç–æ–¥—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:
  - `vat_verification_status_display` - —Å—Ç–∞—Ç—É—Å —Å –∏–∫–æ–Ω–∫–∞–º–∏
  - `vat_verification_result_display` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
- –û–±–Ω–æ–≤–ª–µ–Ω—ã fieldsets –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ VAT ID
- –ú–µ—Ç–æ–¥ `changeform_view` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ VIES —Å–∞–π—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –ú–µ—Ç–æ–¥ `save_model` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –ø—Ä–∏ —Ä—É—á–Ω–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏

## –ú–∏–≥—Ä–∞—Ü–∏–∏

–°–æ–∑–¥–∞–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏:
- `providers/migrations/0019_add_vat_verification_fields.py` - –ø–æ–ª—è –≤ Provider
- `users/migrations/0016_add_vat_verification_fields_to_provider_form.py` - –ø–æ–ª—è –≤ ProviderForm
- `users/migrations/0017_add_vat_verification_manual_fields_to_provider_form.py` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ ProviderForm

## –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –≤—Å–µ—Ö —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω—ã
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ VAT ID —á–µ—Ä–µ–∑ VIES API (–¥–ª—è –ï–° —Å—Ç—Ä–∞–Ω –∏ –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–æ–≤ –ù–î–°)
3. –ï—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí fallback, —Å—Ç–∞—Ç—É—Å `failed`, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∞
4. –ï—Å–ª–∏ VAT ID –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π ‚Üí –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### –í –∞–¥–º–∏–Ω–∫–µ:
1. –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å VAT ID —Å–µ–π—á–∞—Å" - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ VIES API
2. –°—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç VIES –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
3. –ß–µ–∫–±–æ–∫—Å "VAT ID –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –≤—Ä—É—á–Ω—É—é" —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º
4. –ú–∞—Å—Å–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

### –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:
–ü—Ä–æ–≤–∞–π–¥–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω, –µ—Å–ª–∏:
- –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
- –û—Ñ–µ—Ä—Ç–∞ –ø—Ä–∏–Ω—è—Ç–∞
- VAT ID –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω (`valid` –∏–ª–∏ `manual_override`) –ò–õ–ò –ø—Ä–æ–≤–∞–π–¥–µ—Ä - –Ω–µ–ø–ª–∞—Ç–µ–ª—å—â–∏–∫ –ù–î–° –ò–õ–ò —Å—Ç—Ä–∞–Ω–∞ –Ω–µ –≤ –ï–°

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫

1. **`requests`** - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å VIES API
   - ‚úÖ –£–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `requirements.txt` (–≤–µ—Ä—Å–∏—è 2.31.0)
   - ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ (–≤–µ—Ä—Å–∏—è 2.31.0)

2. **`python-stdnum`** - –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞ VAT ID –∏ IBAN (—Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É)
   - ‚úÖ –£–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `requirements.txt` (–≤–µ—Ä—Å–∏—è >= 1.19)
   - ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ (–≤–µ—Ä—Å–∏—è 2.2)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞ EU VAT ID –∏ IBAN
   - Fallback –Ω–∞ —Ä—É—á–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é, –µ—Å–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫—ç—à–∞ Django** - –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏ VAT ID
   - VIES API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Django cache framework –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å `CACHES` –≤ `settings.py`
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –∏–ª–∏ Memcached –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
   - –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à:
     ```python
     CACHES = {
         'default': {
             'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',
         }
     }
     ```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

‚úÖ **API –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∫–ª—é—á–∞!**

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- –ó–∞–ø—Ä–æ—Å—ã –∫ VIES API —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ JSON-–æ—Ç–≤–µ—Ç—ã
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

–ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```python
from providers.vat_validation_service import validate_vat_id_vies

# –¢–µ—Å—Ç–æ–≤—ã–π –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π VAT ID
result = validate_vat_id_vies('DE', '123456789')
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {'is_valid': False, 'error': 'INVALID', ...}

# –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –≤–∞–ª–∏–¥–Ω—ã–º VAT ID –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –∫–æ–º–ø–∞–Ω–∏–∏ –∏–∑ –ï–°
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏ VAT ID –≤ –∞–¥–º–∏–Ω–∫–µ (–∫–∞—Å—Ç–æ–º–Ω—ã–π —à–∞–±–ª–æ–Ω) - **–ì–û–¢–û–í–û**
2. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ (regex –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–æ–≤)
3. –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±–∏–ª–ª–∏–Ω–≥-–º–µ–Ω–µ–¥–∂–µ—Ä–∞–º –ø—Ä–∏ fallback
4. –†–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω (–∫–æ–≥–¥–∞ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è)

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

**–í–ê–ñ–ù–û:** –î–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

1. ‚úÖ **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `requests`** - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ (–≤–µ—Ä—Å–∏—è 2.31.0)
2. ‚úÖ **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `python-stdnum`** - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ (–≤–µ—Ä—Å–∏—è 2.2) - –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞ VAT ID –∏ IBAN
3. ‚úÖ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—ç—à–∞ Django** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `settings.py` (–ª–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
4. üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è** - —Å–º. `VIES_API_SETUP.md`

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (—Å–º. `VIES_API_SETUP.md`).
